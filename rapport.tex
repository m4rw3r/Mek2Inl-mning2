\documentclass[12pt,a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[swedish]{babel}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{color}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{framed}
\usepackage{pifont}
\usepackage{listings}
\usepackage{subfigure}
%\usepackage{epsfig}
\usepackage[retainorgcmds]{IEEEtrantools}
\usepackage{hyperref}
\hypersetup{colorlinks,
	citecolor=black,
	filecolor=black,
	linkcolor=black,
	urlcolor=black,
	pdftex}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\C}{\ensuremath{\mathbb{C}}}
\newcommand{\rd}{\ensuremath{\mathrm{d}}}
\newcommand{\id}{\ensuremath{\,\rd}}
\newcommand{\degree}{\ensuremath{^{\circ}}}
\newcommand{\iu}{\ensuremath{\mathrm{i}}}
\newcommand{\captiona}[1]{\caption{\scriptsize{#1}}}



\begin{document}
	\pagenumbering{roman}

\title{Stelkroppsrörelse i rummet}
	\author{Stefan Buller och Martin Wernstål}
	\date{TODO: DATE}
	\maketitle{}
	\thispagestyle{empty}

	\begin{abstract}
		
	\end{abstract}

\newpage{}

	\tableofcontents{}
	\thispagestyle{empty}

\newpage{}

	\setcounter{page}{1}
	\pagestyle{plain}
	\pagenumbering{arabic}
	
	
\section{Problem 1}
	\subsection{Delproblem b}
	I ett kroppsfixt koordinatsystem, gäller som namnet antyder, att punkter på kroppen
	har en fixt position i förhållande till koordinatsystemet. Då deras positionsvektorer
	inte ändras kan man räkna ut integralerna ingående i tröghetsmatrisen utan något tidsberoende.
	
	För att få fram tröghetsmomentet över tid för en kropp i rörelse i ett icke kroppsfixt
	koordinatsystem skulle kräva att vi vet hur samtliga punkter på kroppen rör sig över tid,
	och varför skulle vi då behöva tröghetsmomentet?
	Skulle kanske gå att lösa som en diff-ekvation från helvetet, kanske approximerbar som ett
	system av diff-ekvationer om man betrakta diskreta punkter. men varför skulle man vilja gör
	detta när vi kan använda kroppsfixa koordinatsystem?

	\subsection{Delproblem b}
	$M = \dot{L}$, och då vi valt att uttrycka $L$ i ett kroppsfixt koordinatsystem $xyz$ får vi
	bidrag i $\dot{L}$ dels från L:s förändring i de kroppsfixa koordinataxlarna
	$\hat{x},\hat{y},\hat{z}$ och dels från koordinataxlarnas förändring i det omgivande
	koordinatsystemet (enligt produktregeln)
	
	Låt $\Omega$ vara $xyz$:s rotationsvektor (och därmed även kroppens rotationsvektor $\omega$,
	ty kroppsfixt koordinatsystem).
	
	$\omega$ motsvarar också precessionsvektorn.
	
	
	Detta ger oss vridmomentekvationen:
	
	\begin{IEEEeqnarray*}{rCl}
		M & = & \dot{L} = \dot{L}_{\mathrm{rel}} + \omega \times L \\
		  & = & \dot{L}_x \hat{x} + \dot{L}_y \hat{y} + \dot{L}_z \hat{z} \\
		  & & + L_x (\omega_z \hat{y} -\omega_y \hat{z}) \\
		  & & + L_y(\omega_x \hat{z} - \omega_z \hat{x}) \\
		  & & + L_z ( \omega_y \hat{x} -\omega_x \hat{y})
	\end{IEEEeqnarray*}
	
	
	Betrakta nu vridmomentsekvationerna komponentvist:
	\begin{equation}
		\begin{cases}
			M_x = \dot{L}_x + L_z \omega_y - L_y \omega_z \\
			M_y = \dot{L}_y + L_x \omega_z - L_z \omega_x \\
			M_z = \dot{L}_z + L_y \omega_x - L_x \omega_y
		\end{cases}
		\label{vridmomentsekvationerna_komponentvis}
	\end{equation}
	
	Där $\dot{L}_x = \dot{L}_y = \dot{L}_z = 0$ på grund utav att koordinatsystemet roterar med kroppen.
	Vilket ger:
	
	\begin{equation*}
		\begin{cases}
			M_x = L_z \omega_y - L_y \omega_z \\
			M_y = L_x \omega_z - L_z \omega_x \\
			M_z = L_y \omega_x - L_x \omega_y
		\end{cases}
	\end{equation*}

\section{Problem 2}
	\subsection{Delproblem a}
	Symmetriaxel-fixt koordinatsystem $\hat{x},\hat{y},\hat{z}$ med $I_{xx} = I_{yy} = I_0$ och $I_{zz} \ne I_0$:
	
	\begin{equation*}
		I = \begin{bmatrix}
			I_0 & 0 & 0 \\
			0 & I_0 & 0 \\
			0 & 0 & I_{zz}
		\end{bmatrix}
	\end{equation*}
	
	Låt $\boldsymbol{\nu}$ vara kroppens rotation i det symmetri-axel-fixa koordinatsystemet,
	$\boldsymbol{\omega}$ är kroppens rotation relativt det omgivande inertialsystemet samt $\mathbf{\Omega}$ är
	$\hat{x}\hat{y}\hat{z}$-systemets rotation.
	
	Eftersom $\hat{x}\hat{y}\hat{z}$ är symmetriaxel-fixt så betyder det att $\nu_x = \nu_y = 0$ för att
	systemet skall fortsätta att vara symmetriaxel-fixt.
	
	\begin{IEEEeqnarray*}{rCl}
		\boldsymbol{\omega} & = & \mathbf{\Omega} + \boldsymbol{\nu} \\
		\mathbf{M} & = & \dot{\mathbf{L}}_{xyz} + \mathbf{\Omega} \times \mathbf{L} \\
		& = & I \boldsymbol{\dot{\omega}} + \boldsymbol{\Omega} \times I \boldsymbol{\omega} \\
		& = & \begin{cases}
			I_x \dot{\omega}_x + \Omega_y I_z \omega_z - \Omega_z I_y \omega_y\\
			I_y \dot{\omega}_y + \Omega_z I_x \omega_x - \Omega_x I_z \omega_z\\
			I_z \dot{\omega}_z + \Omega_x I_y \omega_y - \Omega_y I_x \omega_x
		\end{cases}
	\end{IEEEeqnarray*}
	
	Vi betraktar fallet då $\mathbf{M} = \mathbf{0}$:
	
	\begin{equation*}
		\begin{cases}
			0 = I_0 \dot{\omega}_x + \Omega_y I_z \omega_z - \Omega_z I_0 \omega_y\\
			0 = I_0 \dot{\omega}_y + \Omega_z I_0 \omega_x - \Omega_x I_0 \omega_z\\
			0 = I_z \dot{\omega}_z + \Omega_x I_0 \omega_y - \Omega_y I_x \omega_x
		\end{cases}
		\hspace{12pt}
		\Rightarrow
		\hspace{12pt}
		\begin{cases}
			0 = \Omega_y I_z (\Omega_z + \nu_z) - \Omega_z I_0 \Omega_y \\
			0 = \Omega_z I_0 \Omega_x - \Omega_x I_0 (\Omega_z + \nu_z) \\
			0 = I_z \dot{\nu}_z + \Omega_x \Omega_y (I_0 - I_0)
		\end{cases}
	\end{equation*}
	
	Vilket ger:
	
	\begin{equation}
		\frac{\Omega_z}{\nu_z} = \frac{I_z}{I_0 - I_z}
		\hspace{24pt}
		\mathrm{och}
		\hspace{24pt}
		\dot{\nu}_z = 0
\label{IoejIz}
	\end{equation}
	\subsection{Delproblem b}
	Då vi har kroppsfixt system utan yttre vridande moment bör precessionsvektorn
	gå igenom kroppens masscentrum.  Då vi enligt delproblem a har ett värde för
	precessionsvektorn i rotationsvektorns riktning enligt ekvation: (\ref{IoejIz}), samt dess
	riktning i förhållande till rotationvektorns riktning, så får vi precessionsvektorns
	uttryckt i symmetriaxelfixt systemet $\hat{x}\hat{y}\hat{z}$:
	
	\begin{equation*}
		\Omega_z = \frac{\nu_z I_z}{I_o-I_z}
		\hspace{12pt}
		\Omega_x = \frac{b \nu_z I_z}{R(I_o-I_z)}
		\hspace{12pt}
		\Omega = \arrowvert\frac{\nu_z I_z R \cos(b/R)}{I_o-I_z}\arrowvert
	\end{equation*}
	Med beteckningar enligt figur \ref{jorden}.

	Enligt förutsättningarna är det ett avstånd på 10 meter mellan rotation och
	precessionsvektor vid jordytan, $b=10m$. Radien vid polerna är $R_p= 6356,7523 km$,
	radien vid ekvatorn: $R_e=6378,1370 km$. För att få jordens tröghetsmoment slår vi
	inte upp tabellvärden utan integrerar över en ellipsoid.
	Fås att $I_o = \frac{m}{5}(R_p^2+R_e^2), I_z = \frac{2m}{5}R_e^2$ vilket ger relativa
	skillnaden: $\frac{I_o-I_z}{I_z} = -0.0033472$, samt att $\Omega \approx -300\nu$. Om
	$\omega=\Omega+\nu = \frac{2\pi}{24h}$ ger detta att
	$\nu \approx \frac{-\frac{2\pi}{300}}{24h}$, alltså spinner jorden ett varv på 300
	dagar i motsatt riktning till dygn-snurr.

%RÄKNA OM PRECESSIONEN OCH GE DEN, INTE SPINNET
	
	För att dra slutsatser om vilka som är fixta i ett inertialsystem så tar vi tidsderivatan av
	vektorerna. Vi har enligt förutsättningen för problemet att $\mathbf{M} = \dot{\mathbf{L}}=0$ ,
	dvs $\mathbf{L}$ är fixt. Övriga vektorer är det inte, $\dot{\hat{z}}=\boldsymbol{\Omega} \times \hat{z}$,
	vilket inte är noll i vårt fall. $\dot{\boldsymbol{\omega}} = \dot{\boldsymbol{\Omega}}+\dot{\boldsymbol{\nu}} =
	\boldsymbol{\Omega} \times \nu \hat{z}$, vilket inte är noll då föregående inte är noll.
	
	\begin{figure}
		\begin{center}
			\input{jordb.pstex_t}
			\caption{Förhållandet mellan precessionaxeln $R_p$ och rotationsaxeln $z$}
                        \label{jorden}
		\end{center}
	\end{figure}
	
\section{Problem 3}
	
	
	\subsection{Experiment}
		
		Vår studerade kropp är ett homogent rätblock med dimensionerna
		$a = 0.25 \mathrm{m}$, $b = 0.08 \mathrm{m}$, $c = 0.01 \mathrm{m}$.
		
		Vi inför ett kroppsfixt koordinatsystem med origo i masscentrum med axlarna
		$\hat{x}$, $\hat{y}$ och $\hat{z}$ som går genom den största, näst
		största respektive minsta ytan.
		
		Enligt vårt experiment roterar vår kropp stabilt kring $\hat{x}$ och $\hat{z}$, men
		instabilt kring $\hat{y}$.
		
		\begin{figure}
			\begin{center}
				\includegraphics[width=0.5\textwidth]{Photo1.eps}
				\caption{Det använda homogena rätblocket}
			\end{center}
		\end{figure}
		
		Våra uppmätta värden för kroppen ger tröghetsmoment genom masscentrum:
		
		\begin{equation*}
			\begin{cases}
				I_x = \frac{1}{12} m (a^2 + b^2) \\
				I_y = \frac{1}{12} m (a^2 + c^2) \\
				I_z = \frac{1}{12} m (b^2 + c^2) 
			\end{cases}
			\hspace{12pt}
			\Rightarrow
			\hspace{12pt}
			\begin{cases}
				I_x = \frac{1}{12} m (\frac{689}{10000}) \\
				I_y = \frac{1}{12} m (\frac{626}{10000}) \\
				I_z = \frac{1}{12} m (\frac{65}{10000})
			\end{cases}
		\end{equation*}
		
		Yttre moment $\mathbf{M}=\mathbf{0}$ ger:
		
		\begin{equation*}
			\begin{cases}
				I_x \dot{\omega}_x = \omega_y \omega_z (I_y - I_z) \\
				I_y \dot{\omega}_y = \omega_z \omega_x (I_z - I_x) \\
				I_z \dot{\omega}_z = \omega_x \omega_y (I_x - I_y)
			\end{cases}
			\hspace{12pt}
			\Rightarrow
			\hspace{12pt}
			\begin{cases}
				\dot{\omega}_x = \omega_y \omega_z \gamma_x \\
				\dot{\omega}_y = \omega_z \omega_x \gamma_y \\
				\dot{\omega}_z = \omega_x \omega_y \gamma_z
			\end{cases}
		\end{equation*}
		
		\begin{IEEEeqnarray*}{rCCCCl}
			\gamma_x = \frac{I_y - I_z}{I_x} &\hspace{24pt}&
			\gamma_y = \frac{I_z - I_x}{I_y} &\hspace{24pt}&
			\gamma_z = \frac{I_x - I_y}{I_z} \\
			\gamma_x \approx 0.81778 & &
			\gamma_y \approx -0.99681 & &
			\gamma_z \approx 0.96923
		\end{IEEEeqnarray*}
		
		Om vi har en ren vinkelhastighet i något led så fås ingen vinkelaccelleration
		i vår modell. Då $\gamma_y$ är mindre än noll så leder enligt ekvationerna
		vinkelhastigheter i $x$- och $y$-led till att $\dot{\omega_y}<0$ vilket över tid,
		då $\omega_y$ kommer in i de andra ekvationerna leder till att allt blir 0 då
		$\omega_y=0$ vilket ger oss konstant rotation. Om vi däremot inte har större
		vinkelhastigheter i $x$- och $y$-led så kommer $\dot{\omega_y}$ inte bli negativt
		nog och svängingsrörelsen blir oregelbunden. Problemet blir instabilt: små
		begynnelsevärden i $x$ och $y$-led ger stora utslag. Detta överänsstämmer väl med
		det vi observerade.
		
		Ändring i hastighetsriktning kommer från att att kroppen spinner runt och därför
		ändrar orientering; en observatör utanför koordinatsystemet skulle inte märka
		några plötsliga ändringar i hastighetens riktning.
		
		\begin{equation}
			\dot{\boldsymbol{\omega}}^{\prime} = \begin{bmatrix}
				0 & \omega_z \gamma_x & \omega_y \gamma_x \\
				\omega_z \gamma_y & 0 & \omega_x \gamma_y \\
				\omega_y \gamma_z & \omega_x \gamma_z & 0
			\end{bmatrix}
			\label{jacobian}
		\end{equation}
		
		Om vi nu vill beräkna stabiliteten av vårt system beräknas då egenvärdena av
		Jacobianmatrisen \eqref{jacobian} och stabiliteten är $\mathrm{max} (\lambda_i),\,i \in \{1,2,3\}$.
		
		\begin{figure}
			\begin{center}
				\subfigure[$\hat{x}$-rotation]{\label{fig:x}\includegraphics[width=0.3\textwidth]{simulated/1_std.eps}}
				\hspace{12pt}
				\subfigure[$\hat{y}$-rotation]{\label{fig:y}\includegraphics[width=0.3\textwidth]{simulated/2_std.eps}}
				\hspace{12pt}
				\subfigure[$\hat{z}$-rotation]{\label{fig:z}\includegraphics[width=0.3\textwidth]{simulated/3_std.eps}}
				\\
				\subfigure[Störd $\hat{x}$-rotation]{\label{fig:x-per}\includegraphics[width=0.3\textwidth]{simulated/1_per.eps}}
				\hspace{12pt}
				\subfigure[Störd $\hat{y}$-rotation]{\label{fig:y-per}\includegraphics[width=0.3\textwidth]{simulated/2_per.eps}}
				\hspace{12pt}
				\subfigure[Störd $\hat{z}$-rotation]{\label{fig:z-per}\includegraphics[width=0.3\textwidth]{simulated/3_per.eps}}
			\end{center}
			\caption{Rotationer runt de tre olika symmetriaxlarna, blå $=\hat{x}$-rotation, grön $=\hat{y}$-rotation,
			röd $=\hat{z}$-rotation. Prickarna representerar stabilitet i diskreta punkter, där 0 och under är stabilt.}
		\end{figure}
		
		Även extremt små störningar av $\hat{y}$-rotation (i storleksordningen $10^{-10}$) påverkar rotationen markant,
		förutsatt att den får fortsätta i minst en minut.
		
\pagebreak

\begin{appendix}
	\section{MATLAB-simuleringskod}
	
		\lstset{
		  literate={ö}{{\"o}}1
		           {å}{{\aa}}1
		           {ä}{{\"a}}1
		}
		
		\lstset{language = MATLAB,
		        commentstyle = \textit,
		        showspaces = false,
		        showstringspaces = false,
		        showtabs = false,
		        tabsize = 2,
		        basicstyle = \scriptsize,
		        breaklines,
		        breakatwhitespace,
		        postbreak = \ding{229},
		        extendedchars = true
		}
		
		\begin{framed}
			\lstinputlisting[]{simulate.m}
		\end{framed}
		
\end{appendix}
\end{document}
